# æ”¹ä¿®ä½œæ¥­è¨ˆç”» (2025-11-02)

ä½œæˆæ—¥: 2025-11-02  
å¯¾è±¡ãƒ–ãƒ©ãƒ³ãƒ: feature/ui-improvement

## æ¦‚è¦

Play Console ã«è¡¨ç¤ºã•ã‚Œã‚‹éæ¨å¥¨äº‹é …ã¸ã®å¯¾å¿œã¨ã€ç™»éŒ²åœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã‚‹ãƒªã‚¹ãƒˆè¡¨ç¤ºæ©Ÿèƒ½ã®å®Ÿè£…ã‚’è¡Œã†ã€‚

---

## ã‚¿ã‚¹ã‚¯1: éæ¨å¥¨äº‹é …ã¸ã®å¯¾å¿œ

### 1.1 ğŸŸ© å®Œäº†: èª¿æŸ»
- Play Consoleè­¦å‘Šå†…å®¹ã®åˆ†æ
- éæ¨å¥¨APIã®ä½¿ç”¨ç®‡æ‰€ã®ç‰¹å®š
- Material Components ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ç¢ºèª

**èª¿æŸ»çµæœ:**
- ã‚¨ãƒƒã‚¸ãƒ„ãƒ¼ã‚¨ãƒƒã‚¸å¯¾å¿œã¯æ—¢ã«å®Œäº†æ¸ˆã¿ï¼ˆå‰å›ã‚¿ã‚¹ã‚¯ï¼‰
- éæ¨å¥¨APIï¼ˆ`setStatusBarColor`/`setNavigationBarColor`ï¼‰ã¯ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰å†…ã§æœªä½¿ç”¨
- Material Components ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆv1.13.0ï¼‰å†…éƒ¨ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹
- æœ€æ–°ç‰ˆã¸ã®æ›´æ–°ã§è§£æ¶ˆã•ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ã„

### 1.2 ğŸŸ© å®Œäº†: Material Components ã®æ›´æ–°èª¿æŸ»
- `gradle/libs.versions.toml` ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª âœ“
- æœ€æ–°ç‰ˆã®å­˜åœ¨ç¢ºèªï¼ˆGoogle Mavenï¼‰ âœ“
- çµæœ: 1.13.0 ãŒæœ€æ–°å®‰å®šç‰ˆã€1.14.0 ä»¥é™ã¯æœªãƒªãƒªãƒ¼ã‚¹

**çµè«–:**
- Material Components 1.13.0 ãŒç¾æ™‚ç‚¹ã®æœ€æ–°ç‰ˆ
- éæ¨å¥¨APIä½¿ç”¨ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå†…éƒ¨ã®å®Ÿè£…ã«èµ·å› 
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã§ã¯éæ¨å¥¨APIã‚’ä½¿ç”¨ã—ã¦ã„ãªã„
- DatePicker ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æœªä½¿ç”¨
- ç¾æ™‚ç‚¹ã§ã®æ›´æ–°ã¯ä¸è¦ã€æ¬¡æœŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒªãƒªãƒ¼ã‚¹å¾…ã¡

### 1.3 ğŸŸ© å®Œäº†: ãƒ“ãƒ«ãƒ‰ã¨Lintã®å®Ÿè¡Œ
- `./gradlew assembleDebug` âœ“ æˆåŠŸ
- `./gradlew lintDebug` âœ“ æˆåŠŸ
- å‹•ä½œç¢ºèª: ãƒ“ãƒ«ãƒ‰æˆåŠŸã€Lintå•é¡Œãªã—

**å‚™è€ƒ:**
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§ä¸€éƒ¨å¤±æ•—ã‚ã‚Šï¼ˆPlaces APIé–¢é€£ã€Material Components ã¨ã¯ç„¡é–¢ä¿‚ï¼‰

### 1.4 ğŸŸ© å®Œäº†: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- èª¿æŸ»çµæœã‚’ `requirements/reports/2025-11-02-material-components-investigation.md` ã«è¨˜éŒ² âœ“

---

## ã‚¿ã‚¹ã‚¯2: ç™»éŒ²åœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã‚‹ãƒªã‚¹ãƒˆè¡¨ç¤ºæ©Ÿèƒ½

### 2.1 ğŸŸ© å®Œäº†: èª¿æŸ»ã¨è¨­è¨ˆ
- è¦ä»¶åˆ†æ
- ç¾çŠ¶ã®UI/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ç¢ºèª
- å®Ÿè£…æ–¹é‡ã®æ±ºå®š

**è¨­è¨ˆæ¦‚è¦:**
- S1ç”»é¢ã«ã‚¿ãƒ–è¿½åŠ : ã€Œè³¼å…¥çŠ¶æ³ã€ã€Œè³¼å…¥å ´æ‰€ã€
- åœ°ç‚¹ã”ã¨ã®ã‚°ãƒ«ãƒ¼ãƒ—è¡¨ç¤ºæ©Ÿèƒ½
- åˆæœŸè¡¨ç¤ºã¯ã€Œè³¼å…¥çŠ¶æ³ã€ã‚¿ãƒ–

### 2.2 â¬œ æœªç€æ‰‹: ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ‹¡å¼µ
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«:**
- `app/src/main/java/com/mapshoppinglist/data/dao/ShoppingItemDao.kt`
- `app/src/main/java/com/mapshoppinglist/data/dao/PlaceDao.kt`ï¼ˆæ–°è¦ä½œæˆã®å¯èƒ½æ€§ï¼‰

**å®Ÿè£…å†…å®¹:**
- åœ°ç‚¹ã”ã¨ã®ã‚¢ã‚¤ãƒ†ãƒ å–å¾—ã‚¯ã‚¨ãƒªã‚’è¿½åŠ 
- ã‚¢ã‚¤ãƒ†ãƒ æ•°ä»˜ãåœ°ç‚¹ãƒªã‚¹ãƒˆå–å¾—ã‚¯ã‚¨ãƒªã‚’è¿½åŠ 
- ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹å®šç¾©ï¼ˆPlaceWithItems ãªã©ï¼‰

**ãƒ†ã‚¹ãƒˆ:**
- å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆã‚¯ã‚¨ãƒªã®å‹•ä½œç¢ºèªï¼‰

### 2.3 â¬œ æœªç€æ‰‹: Repositoryãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ‹¡å¼µ
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«:**
- `app/src/main/java/com/mapshoppinglist/domain/repository/ShoppingListRepository.kt`
- `app/src/main/java/com/mapshoppinglist/data/repository/DefaultShoppingListRepository.kt`

**å®Ÿè£…å†…å®¹:**
- åœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿æä¾›ãƒ¡ã‚½ãƒƒãƒ‰ã®è¿½åŠ 
- Flow ã«ã‚ˆã‚‹ ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‡ãƒ¼ã‚¿æä¾›

**ãƒ†ã‚¹ãƒˆ:**
- Repository ã®å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ

### 2.4 â¬œ æœªç€æ‰‹: ViewModelã®æ‹¡å¼µ
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«:**
- `app/src/main/java/com/mapshoppinglist/ui/home/ShoppingListViewModel.kt`

**å®Ÿè£…å†…å®¹:**
- ã‚¿ãƒ–é¸æŠçŠ¶æ…‹ã®ç®¡ç†ï¼ˆStateFlowï¼‰
- åœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿ã®æä¾›ï¼ˆStateFlowï¼‰
- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯

**ãƒ†ã‚¹ãƒˆ:**
- ViewModel ã®å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ

### 2.5 â¬œ æœªç€æ‰‹: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«:**
- `app/src/main/java/com/mapshoppinglist/ui/home/ShoppingListScreen.kt`

**å®Ÿè£…å†…å®¹:**
- `TabRow` ã§ã‚¿ãƒ–UIå®Ÿè£…
- åœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- LazyColumn ã§ã®åœ°ç‚¹åˆ¥ã‚¢ã‚¤ãƒ†ãƒ è¡¨ç¤º
- TestTag ã®è¿½åŠ 

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ:**
```kotlin
@Composable
fun ShoppingListScreen(
    uiState: ShoppingListUiState,
    onTabSelected: (Tab) -> Unit,
    // ... æ—¢å­˜ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
) {
    Column {
        TabRow(selectedTabIndex) {
            Tab("è³¼å…¥çŠ¶æ³")
            Tab("è³¼å…¥å ´æ‰€")
        }
        when (selectedTab) {
            PurchaseStatus -> PurchaseStatusList()
            PlaceGroup -> PlaceGroupList()
        }
    }
}

@Composable
fun PlaceGroupList(
    groupedItems: Map<Place?, List<Item>>,
    // ...
) {
    LazyColumn {
        groupedItems.forEach { (place, items) ->
            stickyHeader { PlaceGroupHeader(place) }
            items(items) { ItemRow(it) }
        }
    }
}
```

### 2.6 â¬œ æœªç€æ‰‹: UIãƒ†ã‚¹ãƒˆã®å®Ÿè£…
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«:**
- `app/src/androidTest/java/com/mapshoppinglist/ui/home/ShoppingListScreenTest.kt`

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹:**
- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆã®å‹•ä½œç¢ºèª
- è³¼å…¥çŠ¶æ³ã‚¿ãƒ–ã®è¡¨ç¤ºç¢ºèªï¼ˆæ—¢å­˜ï¼‰
- è³¼å…¥å ´æ‰€ã‚¿ãƒ–ã®è¡¨ç¤ºç¢ºèªï¼ˆæ–°è¦ï¼‰
- åœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—ãƒ˜ãƒƒãƒ€ãƒ¼ã®è¡¨ç¤ºç¢ºèª
- ã‚°ãƒ«ãƒ¼ãƒ—å†…ã‚¢ã‚¤ãƒ†ãƒ ã®è¡¨ç¤ºç¢ºèª
- åœ°ç‚¹æœªè¨­å®šã‚¢ã‚¤ãƒ†ãƒ ã®è¡¨ç¤ºç¢ºèª

### 2.7 â¬œ æœªç€æ‰‹: çµ±åˆãƒ†ã‚¹ãƒˆã¨ãƒ“ãƒ«ãƒ‰
- å…¨ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
- Lint ãƒã‚§ãƒƒã‚¯
- å‹•ä½œç¢ºèªï¼ˆå®Ÿæ©Ÿ or ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ï¼‰

### 2.8 â¬œ æœªç€æ‰‹: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- `requirements/document.md` ã®ç”»é¢ä»•æ§˜æ›´æ–°
- å®Ÿè£…ãƒ¡ãƒ¢ã®ä½œæˆ

---

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### éæ¨å¥¨APIå¯¾å¿œ
- `gradle/libs.versions.toml`
- `app/build.gradle.kts`
- `requirements/reports/2025-11-02-play-console-warnings.md`

### åœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—è¡¨ç¤ºæ©Ÿèƒ½
- `app/src/main/java/com/mapshoppinglist/ui/home/ShoppingListScreen.kt`
- `app/src/main/java/com/mapshoppinglist/ui/home/ShoppingListViewModel.kt`
- `app/src/main/java/com/mapshoppinglist/domain/repository/ShoppingListRepository.kt`
- `app/src/main/java/com/mapshoppinglist/data/repository/DefaultShoppingListRepository.kt`
- `app/src/main/java/com/mapshoppinglist/data/dao/ShoppingItemDao.kt`
- `app/src/androidTest/java/com/mapshoppinglist/ui/home/ShoppingListScreenTest.kt`
- `app/src/test/java/com/mapshoppinglist/ui/home/ShoppingListViewModelTest.kt`
- `requirements/document.md`
- `requirements/reports/2025-11-02-place-grouping-analysis.md`

---

## ä½œæ¥­è¦‹ç©ã‚‚ã‚Š

- **ã‚¿ã‚¹ã‚¯1ï¼ˆéæ¨å¥¨APIå¯¾å¿œï¼‰**: 1-2æ™‚é–“
- **ã‚¿ã‚¹ã‚¯2ï¼ˆåœ°ç‚¹ã‚°ãƒ«ãƒ¼ãƒ—è¡¨ç¤ºï¼‰**: 6-8æ™‚é–“
  - ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ãƒ¤ãƒ¼: 1-2æ™‚é–“
  - Repository/ViewModel: 1-2æ™‚é–“
  - UIå®Ÿè£…: 2-3æ™‚é–“
  - ãƒ†ã‚¹ãƒˆ: 2æ™‚é–“

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. ã‚¿ã‚¹ã‚¯1.2: Material Components ã®æ›´æ–°ã‹ã‚‰ç€æ‰‹
2. ã‚¿ã‚¹ã‚¯2.2: ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ‹¡å¼µã‚’é–‹å§‹
