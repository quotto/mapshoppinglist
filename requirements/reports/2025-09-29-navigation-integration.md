# 2025-09-29 画面統合（S1〜S4）実装メモ

## 対応内容
- ナビゲーションを拡張し、S1（買い物リスト）からS2（アイテム詳細）、S3（検索＆地図）、S4（最近使ったお店）への遷移を追加。
- `ItemDetailRoute` / `RecentPlacesRoute` を新規実装し、Composeでアイテム詳細と最近お店一覧を表示。
- SavedStateHandleを用いた戻り値連携を整理し、PlacePickerとRecentPlacesの戻り値を呼び出し元で受け取る仕組みを導入。
- ドメイン層に最近お店取得用UseCaseを追加し、テストを整備。
- `ShoppingListScreen` にアイテムタップでS2へ遷移する導線を追加。

## 動作確認観点
- S1のアイテム行タップでS2へ遷移し、タイトル・メモ・紐づくお店が表示される。
- S2の「お店を追加」から検索または最近お店を選択すると、即時で紐づきが反映される。
- 最近使ったお店画面でリストが空の場合はメッセージ表示、エラー発生時はエラーメッセージ表示。
- ユニットテスト `GetRecentPlacesUseCaseTest` / `ItemDetailViewModelTest` / `RecentPlacesViewModelTest` を追加し、ビジネスロジックを検証。

## 残課題
- S2でのタイトル・メモ編集や既存紐づき管理の詳細はタスク9-4で深掘り予定。
- UIデザイン（マテリアルコンポーネントの装飾、並べ替えなど）は後続タスクでブラッシュアップする。
